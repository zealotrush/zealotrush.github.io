<!DOCTYPE html>
<html lang="en" data-mode="light">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.107.0">
<meta name="theme" content="Color Your World -- gitlab.com/rmaguiar/hugo-theme-color-your-world">


<title>智力题：钻石问题 & 爱情问题</title>





<meta name="robots" content="index follow">




  
    <link rel="canonical" href="https://wangbei.me/posts/diamond-problem-and-love-problem/">
  








<meta property="og:site_name" content="Zihuatanejo">
<meta property="og:title" content="智力题：钻石问题 & 爱情问题">

  <meta property="og:url" content="https://wangbei.me/posts/diamond-problem-and-love-problem/">














  <meta property="og:type" content="article">
  
  
    <meta property="article:published_time" content="2010-07-29">
    <meta property="article:modified_time" content="2010-07-29">
    <meta property="og:updated_time" content="2010-07-29">
  

  
    <meta property="article:author" content="[Wang Bei]">
  
  
  
  


















<meta name="theme-color" content="#222">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebSite",
        "@id": "https://wangbei.me"
      },
      "headline": "智力题：钻石问题 \u0026 爱情问题",
      "description": "",
      
      "url": "https://wangbei.me/posts/diamond-problem-and-love-problem/",
      "inLanguage": "en",
      "datePublished": "2010-07-29",
      "dateModified": "2010-07-29",
      "wordCount" : "122",
      "publisher": {
        "@type": "Person",
        "name": ""
      },
      "author": {
        "@type": "Person",
        "name": "",
        
        
      }
    }
  </script>






<link rel="stylesheet" href="https://wangbei.me/css/main.min.0fdfc4083ce74c4220dde9973823fb6f232399c52d267396c7039677d981e066.css" integrity="sha256-D9/ECDznTEIg3emXOCP7byMjmcUtJnOWxwOWd9mB4GY=" crossorigin="anonymous">



<noscript>

  
  

  
    <meta name="theme-color" content="#1dbc91" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#1f676b" media="(prefers-color-scheme: light)">
  

  
  <link rel="stylesheet" href="https://wangbei.me/css/noscript.min.9bacd85b6f1d42296c56d3b8457d0c13a4e7f415c4ca5fc8affb6ed6b39cad72.css" integrity="sha256-m6zYW28dQilsVtO4RX0ME6Tn9BXEyl/Ir/tu1rOcrXI=" crossorigin="anonymous">

</noscript>



<link rel="preload" href="../../fonts/OpenSans-Bold.ttf" as="font" crossorigin="anonymous">
<link rel="preload" href="../../fonts/OpenSans-Italic.ttf" as="font" crossorigin="anonymous">
<link rel="preload" href="../../fonts/OpenSans-Regular.ttf" as="font" crossorigin="anonymous">
<link rel="preload" href="../../fonts/Oswald-Bold.ttf" as="font" crossorigin="anonymous">



  



<link rel="preload" href="../../libs/katex@0.16.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../libs/katex@0.16.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../libs/katex@0.16.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../libs/katex@0.16.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">












  
  


<script src="https://wangbei.me/js/main.f1da21dfea83dc0c36cea0b202c14a97e00aedab567e32702eb120f5ab8d974b.js" integrity="sha256-8doh3&#43;qD3Aw2zqCyAsFKl&#43;AK7atWfjJwLrEg9auNl0s=" crossorigin="anonymous"></script>

  </head>

  <body>

    <header>
      

  <a href="../../">Zihuatanejo</a>





    </header>

    <div class="filler">
      

  <main>
    <article>
      <header>
        
        <h1>智力题：钻石问题 & 爱情问题</h1>

        
          <p>
            
              Published on <time datetime="2010-07-29">2010-07-29</time>
            
          </p>
        
        
        
        
      </header>
    
      
      




















































<p>有这样一道智力题：</p>
<blockquote>
<p>一楼到十楼的每层电梯门口都放着一颗钻石，钻石大小不一。你乘坐电梯从一楼到十楼，每层楼电梯门都会打开一次，只能拿一次钻石，问怎样才能尽可能地拿到最大的一颗？</p>
</blockquote>
<p>这道题挺难的。还是先从一道简单点的上手比较好。这是一道“爱情问题”：</p>
<blockquote>
<p>假设你一生中能且只能交三个女友，且你必须遵守以下规则：</p>
<ol>
<li>不得脚踏两只船；</li>
<li>不得吃回头草。</li>
</ol>
<p>那么，应该以怎样的策略进行选择，才能够尽可能地选择到最好的伴侣呢？</p>
</blockquote>
<p>如果你只认准了第一个，那么有 1/3 的机率选择到最好的。同理，只认准第二个或第三个也是 1/3 机率。比较好的策略应该是：</p>
<ul>
<li>果断放弃第一个；</li>
<li>如果第二个比第一个好，就选择第二个；</li>
<li>否则，选择第三个。</li>
</ul>
<p>通过简单的排列试验，就可以发现，这种策略有 1/2 机率选择到最好的，有 1/3 机率选择到中等的，有 1/6 机率选择到最差的。比瞎蒙的三足鼎立要更安全一些。当然，对于不少人来说，初恋是无条件的最好的。那就不是这个简单的模型能解释的了。</p>
<p>回到那道复杂一些的“钻石问题”上来。“钻石问题”跟“爱情问题”原理类似，只是参数从 3 变成了 10。类似地，最佳策略的格式应该是这样的：</p>
<ul>
<li>放弃前 \(x\) 个；</li>
<li>拿下此后第一个出现的比前 \(x\) 个都要大的钻石。</li>
</ul>
<p>只需要找出这样的 \(x\)，使拿到最大一颗钻石的机率 \(p(x)\) 取到最大值。为此，我们需要写出 \(p(x)\) 的表达式。</p>
<p>为了使讨论不失一般性，将钻石的总数（也就是楼层总数）记为 \(N\)，每颗钻石由小到大分别记为 \(1, 2, \ldots, N\)。现在来写出 \(p(x)\) 的表达式。</p>
<p>将前 \(x\) 颗钻石中最大的一颗记为 \(i\)，可知 \(i\in [x,N]\)。倘若 \(i=N\)，则无论如何都拿不到最大一颗钻石。先排除这种情况。</p>
<p>再来看剩余的 \(N–x\) 颗钻石。在这些钻石中，有 \(N–i\) 颗比 \(i\) 大的钻石（当然其中包括最大的一颗）。只有当最大的一颗钻石排在这 \(N–i\) 颗钻石的第一位时，我们才能选择到它，因此，在前 \(x\) 颗钻石中最大号为 \(i\) 的前提下，我们有 \(p\_2(x,i) = 1/(N-i)\) 的机率选择正确。</p>
<p>现在需要算一下前 \(x\) 颗中最大号为 \(i~(i\in [x, N-1])\) 的机率 \(p\_1 (x,i)\) 。先从所有比 \(i\) 小的 \(i–1\) 颗钻石中选出 \(x–1\) 颗进行排列，再将 \(i\) 号钻石加入其中，这一共有 \(x \cdot P^{x-1}\_{i-1}\) 种可能。而总可能数为从 \(N\) 颗钻石中选出 \(x\) 颗进行排列。因此，得到：\(p\_1(x,i) = x \cdot P^{x-1}\_{i-1} / P\_N^x\)。</p>
<p>最终的概率：\(p(x) = \sum\limits\_{i=x}^{N-1} p\_1(x,i)\cdot p\_2(x,i)\)</p>
<p>把 \(x\) 从 \(1\) 试到 \(N–1\)，找出 \(p(x)\) 的最大值即可。对于此题 \(N=10\)，借助 Excel 就可以方便地求出结果：</p>
























  

    
    
    
      
      
      
      <figure>
        <img
          
          loading="lazy"
          src="../../ox-hugo/diamond-prob.png"
          
        >
        
        
      </figure>
      
    

  
  


<p>可以看出，当 \(x=3\) 时，取得最大钻石的机率最大。也就是说，前三颗钻石放弃，之后只要有比那三颗大的就拿。也就是说：如果你打算交够十个女友，那么前三个可以放弃，之后……</p>
<p>……就会发现一个不如一个了。</p>



    </article>
  </main>


    </div>
    
    <footer>
      


  

















<div class="req-js">
  <button class="outline-dashed" title="Change to light/dark mode."><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><use xlink:href="../../img/bundle.min.ae45e7a9a0a65150dd900a58f35fe84d.svg#adjust"/></svg></button><input class="outline-dashed" type="color" list="presets" value="#1f676b" title="Change accent color." aria-label="Change accent color."><datalist id="presets"><option value="#1f676b"><option value="#1dbc91"><option value="#f3a530"><option value="#902b37"><option value="#754e85"><option value="#7fc121"><option value="#a8314a"><option value="#ff7433"><option value="#3e6728"><option value="#c063bd"></datalist>
</div>





    </footer>
    
    
    

    
    
      



<link rel="stylesheet" href="https://wangbei.me/libs/katex@0.16.0/dist/katex.min.6950e59dbd8dfddd111390d85888bb5f9dc2e9c334da7ac1c3bacc92a695610d.css" integrity="sha256-aVDlnb2N/d0RE5DYWIi7X53C6cM02nrBw7rMkqaVYQ0=" crossorigin="anonymous">


<script defer src="https://wangbei.me/libs/katex@0.16.0/dist/katex.min.e7c837339f838404f20674bf6c066a479026575ac8314ba5f2e35156e4591226.js" integrity="sha256-58g3M5&#43;DhATyBnS/bAZqR5AmV1rIMUul8uNRVuRZEiY=" crossorigin="anonymous"></script>
















<script defer src="https://wangbei.me/js/katex-custom-render.min.cdeaf561a454e015b169c385f95c72d57d41f906a9bc4100636b18e1e4c15da3.js" integrity="sha256-zer1YaRU4BWxacOF&#43;Vxy1X1B&#43;QapvEEAY2sY4eTBXaM=" crossorigin="anonymous"></script>

    

  </body>
</html>
